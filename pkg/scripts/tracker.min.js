let t="{{ .serverAddress }}",o=localStorage.getItem("sessionID"),a=(o||(o=crypto.randomUUID(),localStorage.setItem("sessionID",o)),""),i=fetch(t+"/ip").then(e=>e.text().then(e=>a=e)),n=window.location.hostname,s=navigator.userAgent,e=()=>{var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s),t=/mobi/i.test(s.toLowerCase()),o="ontouchstart"in window||navigator.msMaxTouchPoints||0<navigator.maxTouchPoints;return(e||t)&&o},r=e()?"mobile":"desktop",d=async()=>{await i;var e=window.location.pathname+window.location.search,e={domain:n,path:e,ip:a,userAgent:s,session:o,device:r};(await fetch(t+"/api/collections/views/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).status};d(),window.addEventListener("pushstate",d),window.addEventListener("replacestate",d),window.addEventListener("popstate",d);